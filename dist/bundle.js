(()=>{"use strict";function e(t){if(null==t||!1===t)return document.createTextNode("");if("string"==typeof t||"number"==typeof t||!0===t)return document.createTextNode(t);if(Array.isArray(t)){const l=document.createDocumentFragment();return t.forEach(t=>{l.appendChild(e(t))}),l}const l=document.createElement(t.tag);return t.cls&&[].concat(t.cls).forEach(e=>{l.classList.add(e)}),t.attrs&&Object.keys(t.attrs).forEach(e=>{l.setAttribute(e,t.attrs[e])}),t.content&&l.appendChild(e(t.content)),l}class t{constructor(e){if(!(e instanceof HTMLElement))throw new Error("передана не HTML элемент");this.element=e,this.onHendlerClickLevel=this.onHendlerClickLevel.bind(this),this.onHendkerClickStart=this.onHendkerClickStart.bind(this),this.render(),this.level=e.querySelector(".card-level-box"),this.buttonChoice=e.querySelector(".card-level-button"),this.levelItems=e.querySelector(".card-level-box").querySelectorAll(".card-level-item"),this.level.addEventListener("click",this.onHendlerClickLevel),this.buttonChoice.addEventListener("click",this.onHendkerClickStart)}render(){const l=e(t.template());this.element.appendChild(l)}onHendkerClickStart(){this.element.innerHTML="",console.log(`Вы выбрали уровень "${window.application.level}"!`)}onHendlerClickLevel(e){if(!e.target.classList.contains("card-level-item"))return;this.levelItems.forEach(e=>{e.classList.remove("card-level-item-choice")}),e.target.classList.add("card-level-item-choice");const t=e.target.textContent;window.application.level=t,localStorage.setItem("level-card-game",t),this.buttonChoice.removeAttribute("disabled")}static template(){return{tag:"div",cls:"card-box",content:[{tag:"h6",cls:"card-level-text",content:"Выбери сложность"},{tag:"div",cls:"card-level-box",content:[{tag:"button",cls:"card-level-item",content:1},{tag:"button",cls:"card-level-item",content:2},{tag:"button",cls:"card-level-item",content:3}]},{tag:"button",cls:"card-level-button",content:"Старт",attrs:{disabled:!0}}]}}}document.addEventListener("DOMContentLoaded",()=>{if(window.application={level:null},!localStorage.getItem("level-card-game")){const e=document.querySelector(".app");e&&new t(e)}})})();